[package]
name = "doenetml-core"
version = { workspace = true }
edition = { workspace = true }

[lib]
crate-type = ["rlib"]

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
[dependencies]
doenetml-derive = { path = "../lib-rust-macros" }
lazy_static = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
regex = { workspace = true }
wasm-bindgen = { workspace = true, optional = true }
web-sys = { workspace = true, optional = true }
evalexpr = { workspace = true }
enum-as-inner = { workspace = true }
ndarray = { workspace = true }
instant = { workspace = true }
strum = { workspace = true }
strum_macros = { workspace = true }
tailcall = { workspace = true }
enum_dispatch = { workspace = true }
anyhow = { workspace = true }

[dev-dependencies]
criterion = "0.3.6"

# [[bench]]
# name = "my_benchmark"
# harness = false
[features]
# The web feature makes the log! macro additionally go to web-sys:console
web = ["dep:web-sys", "dep:wasm-bindgen"]
web-debug-log = []
