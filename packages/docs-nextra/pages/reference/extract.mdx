import { DoenetViewer, DoenetEditor, DoenetExample } from "../../components"

import { AttrDisplay, PropDisplay } from "../../components"


# ` <extract>{:dn}`

The ` <extract>{:dn}` component extracts stored data, such as individual properties or values, from a component or a group of components.


When we use dot notation to access an object's properties, such as `line.yIntercept`, we are actually using a shortcut for:

## Attributes and Properties 
 <AttrDisplay name='extract'/> 
 <PropDisplay name='extract'/>

---

### Example: Extract the <m>y</m>-coordinates from a list of sugared points


```doenet-editor-horiz
<extract name="yCoords" prop="y" assignNames="e1 e2 e3">
  <point>(1,2)</point>
  <point>(3,4)</point>
  <point>(5,6)</point>
</extract>
<p>e1 = $e1</p>
<p>e2 = $e2</p>
<p>e3 = $e3</p>
```



The $y$-coordinates of the enclosed ` <point>{:dn}` components are extracted using the ` <extract>{:dn}` component. Each extracted coordinate is assigned a name with the `assignNames` attribute.



---

### Example: Extracted values are stored in an array


```doenet-editor-horiz
<graph name="g1" size="small">
  <group name="vectors">
    <vector>(5,0)</vector>
    <vector>(0,7)</vector>
    <vector>(3,4)</vector>
  </group>
</graph>
<extract name="lengths" prop="magnitude">$vectors</extract>
<p>The second vector's length is $lengths[2]</p>      
```



Extracted elements are stored in an array; individual elements can be accessed using array notation.


Here, ` <vector>{:dn}` components are defined within a named ` <group>{:dn}`, which is then referenced within the opening and closing tags of the ` <extract>{:dn}` component. The lengths of the vectors are stored in the array named `lengths` by extracting the `magnitude` property of each vector in the group.



---

### Example: Extracting values from a ` <map>{:dn}`


```doenet-editor-horiz
<p>How many points to map around the circle? <mathinput name="n"/></p>
<p>What is the radius of the circle? <mathInput name="r"/></p>
<p>The <m>x</m>-coordinates of the circle of points are: 
  <aslist>
    <extract prop="x">$circlePts</extract>
  </aslist></p>
<graph size="small">
  <map name="circlePts">
    <template>
      <point>($r cos($i), $r sin($i))</point>
    </template>
    <sources alias="i">
      <sequence length="$n" from="0" to="2pi(1 - 1/$n)"/>
    </sources>
  </map>
  <circle radius="$r"/>
</graph>
```



The ` <extract>{:dn}` component can take a reference to a named ` <map>{:dn}` as input. In this example, the $x$-coordinates of the mapped points are extracted.



---

### Example: Extracting values from a ` <group>{:dn}`


```doenet-editor-horiz
<group name="lines">
  <line>3x + 2y = 8</line>
  <line>4y + 2x = 2</line>
  <line>4x - 4y = 19</line>
</group>
<p><asList>
  <extract name="yValues" prop="yIntercept">$lines</extract>
</asList></p>
<map name="intercepts" hide>
  <template>
    <point styleNumber="3">(0, $i)</point>
  </template>
  <sources alias="i">$yValues</sources>
</map>
<graph size="small">
  $lines 
  $intercepts
</graph>
```



A series of lines is defined within a ` <group>{:dn}`. The `yIntercept` properties of the lines within the group are then extracted with the ` <extract>{:dn}` component named `yValues`. Finally, this named array of extracted values is used as the ` <sources>{:dn}` of a ` <map>{:dn}` which defines points for rendering on a ` <graph>{:dn}`.



---

### Example: assignNames


```doenet-editor-horiz
<extract prop="numDimensions" assignNames="d1 d2 d3">
  <vector>(x,y,z)</vector>
  <vector>(x,y)</vector>
  <vector>(x,y,z,t)</vector>
</extract>
<p>d1 = $d1</p>
<p>d2 = $d2</p>
<p>d3 = $d3</p>
```



The `assignNames` attribute can be used to give individual names to discrete values extracted from a component or group of components.



---

### Example: prop


```doenet-editor-horiz
<graph size="small">
  <group name="segments">
    <lineSegment endpoints="(-2,-5) (2,6)"/>
    <lineSegment endpoints="(-6,0) (6,4)"/>
    <lineSegment endpoints="(4,-2) (-8,7)"/>
  </group>
</graph>
<asList>
  <extract prop="length" >$segments</extract>
</asList>       
```



The `prop` attribute specifies which property of the referenced or enclosed components to extract.



---

### Example: createComponentOfType


```doenet-editor-horiz
<graph size="small">
  <regularPolygon name="heptagon" sideLength="7" numSides="5"/>
</graph>
<extract name="v1" prop="vertices" propIndex="3" createComponentOfType="vector">
  $heptagon
</extract>
<graph size="small">
  $v1
</graph>
```



Properties associated with a component have an associated type; for example, the individual vertices of a ` <regularPolygon>{:dn}` are points. The `createComponentOfType` attribute can be used to alter the extracted information to match that of a specified type (which must have a similar data format). In this example, a <em>point</em> is changed to a <em>vector</em>.



---

### Example: componentIndex


```doenet-editor-horiz
<asList>
  <sequence name="thirds" from="1" length="10" step="1/3"/>
</asList>
<p><extract prop="value" componentIndex="4">$thirds</extract></p>
<p>$thirds[4]</p>
```



The `componentIndex` attribute of the ` <extract>{:dn}` component works in the same manner as the array notation, `$name[i]`.



---

### Example: propIndex


```doenet-editor-horiz
<graph size="small">
  <regularPolygon name="heptagon" sideLength="7" numSides="5"/>
</graph>
<extract name="v1" prop="vertices" propIndex="3">
  $heptagon
</extract>
<p>$heptagon.vertices[3]</p>
```



The `propIndex` attribute of the ` <extract>{:dn}` component works in the same manner as the array notation of a copied property (`$name.property[i]`), where the property of a component is an array.



---

### Example: assignNamesSkip *


```doenet-editor-horiz
```



. 

