import { DoenetViewer, DoenetEditor, DoenetExample } from "../../components"

import { AttrDisplay, PropDisplay } from "../../components"


# ` <matchesPattern>{:dn}`

` <matchesPattern>{:dn}` is an [Evaluation](../document_structure/essentialConcepts#component-types)
component that returns the boolean value of `true` or `false` depending on whether the enclosed 
math (often a referenced ` <mathInput/>{:dn}`) conforms to the specified `pattern` template.

## Attributes and Properties 
 <AttrDisplay name='matchesPattern'/> 
 <PropDisplay name='matchesPattern'/>

---

### Example: Default case


```doenet-editor-horiz
<p>Write an equation where <m>y</m> is the
  <term>sum</term> of three terms. (For example, 
  <m>y = ax^2 + bx + c</m>)</p>
  
<p><mathInput name="mi"/></p>

<p>Format correct: </p>
<matchesPattern pattern="y = () + () + ()" >
  $mi
</matchesPattern>    
```



The ` <matchesPattern>{:dn}` component is used to check that the user has supplied an 
equation in the requested format. The `pattern` attribute is required. If used without 
additional attributes as shown above, a rather liberal comparison occurs. 

* there must be two operands on one side, and none on the other
* one side must contain only $y$ (RHS or LHS are acceptable)
* the operands may be `+` or `-`



These requirements may be tightened, if desired, by applying additional 
attributes to ` <matchesPattern>{:dn}`.


### Example: Match a specific form of linear equation


```doenet-editor-horiz
<p>Enter an equation in slope-intercept form, <m>y = mx + b</m>, where <m>b \neq 0</m>:</p> 

<answer name="ans1">
<mathInput name="mi"/>
  <award>
      <when>
        <matchesPattern 
          pattern="y = ()x + ()" 
          requireNumericMatches>
            $mi
        </matchesPattern> 
      </when>
  </award>
  <award>
    <when>
      <matchesPattern 
        pattern="y = x + ()" 
        requireNumericMatches>
          $mi
      </matchesPattern>  
    </when>
  </award>
</answer> 
```
In this example, the following conditions must be met:

* a $y$ by itself on one side, and an $x$ on the other, and no other variables can be present
* the $x$ value must have a numerical coefficient, or no coefficient
* switching the order of terms on the right-hand side is acceptable

The attribute `requireNumericMatches` ensures that the user only enters numerical coefficients
into the `( )` spaces (rather than an `x`, for example.). Multiple `<award>` conditions are used to
ensure that the case where $x$ does not have a coefficient are allowed.
